!function(s){"use strict";var t=s("body");function e(){1200<=window.innerWidth?(t.addClass("dashboard-nav-fixed"),t.removeClass("dashboard-nav-opened")):t.removeClass("dashboard-nav-fixed");var e=window.innerHeight-s(".dashboard-nav-header").outerHeight()-50;s(".dashboard-nav-content-inner").height(e).perfectScrollbar({suppressScrollX:!0})}s(document).ready(function(){s(document.body).on("submit","#tutor-ask-question-form, #tutor-reply-question-form",function(e){e.preventDefault();var t=s(this),a=t.find('button[type="submit"]');return s.ajax({url:$unicamp.ajaxurl,type:"POST",data:t.serialize(),dataType:"json",beforeSend:function(){a.addClass("updating-icon"),t.find(".form-response-messages").text("").removeClass("success error").hide()},success:function(e){e.success?(t.find(".form-response-messages").addClass("success").text(e.data.message).show(),location.reload()):t.find(".form-response-messages").addClass("error").text(e.data.message).show()},complete:function(){a.removeClass("updating-icon")}}),!1}),s(document.body).on("click",".btn-add-an-answer",function(e){var t=s(this).data("question-id"),a=s(s(this).data("unicamp-target"));0<a.length&&a.find('input[name="question_id"]').val(t)}),s(document).on("click",".unicamp-course-wishlist-btn",function(e){var a;e.preventDefault(),s("body").hasClass("logged-in")&&(e=(a=s(this)).attr("data-course-id"),s.ajax({url:$unicamp.ajaxurl,type:"POST",data:{course_id:e,action:"tutor_course_add_to_wishlist"},beforeSend:function(){a.children(".button-content-wrapper").addClass("updating-icon")},success:function(e){var t;e.success?(t=a.parent(".tm-button-wrapper"),"added"===e.data.status?(t.attr("aria-label",$unicampCourseWishlist.addedText),t.addClass("added"),a.addClass("has-wish-listed"),a.find(".button-text").text($unicampCourseWishlist.addedText)):(t.attr("aria-label",$unicampCourseWishlist.addText),t.removeClass("added"),a.removeClass("has-wish-listed"),a.find(".button-text").text($unicampCourseWishlist.addText))):window.location=e.data.redirect_to},complete:function(){a.children(".button-content-wrapper").removeClass("updating-icon")}}))}),s(document).on("click",".custom_tutor_submit_review_btn",function(e){e.preventDefault();var t=s(this),e=t.closest("form").find('input[name="tutor_rating_gen_input"]').val(),a=(a=t.closest("form").find('textarea[name="review"]').val()).trim(),n=s('input[name="tutor_course_id"]').val();a&&s.ajax({url:_tutorobject.ajaxurl,type:"POST",data:{course_id:n,rating:e,review:a,action:"unicamp_place_rating"},beforeSend:function(){t.addClass("updating-icon")},success:function(e){var t=e.data.review_id,e=e.data.review;s(".tutor-review-"+t+" .review-content").html(e),location.reload()}})}),s(".btn-toggle-lesson-sidebar").on("click",function(){t.toggleClass("lesson-sidebar-on")}),s(document).on("click",".tutor-single-lesson-a",function(){t.removeClass("lesson-sidebar-on")}),s(document).on("click",function(e){"tutor-lesson-sidebar"===e.target.id||s(e.target).closest("#tutor-lesson-sidebar").length||s(e.target).closest(".btn-toggle-lesson-sidebar").length||992<=window.innerWidth||t.removeClass("lesson-sidebar-on")}),s(".dashboard-header-toggle-menu").on("click",function(){t.toggleClass("dashboard-nav-opened")}),s("#tutor-dashboard-left-menu").on("click",function(e){"dashboard-nav-wrapper"===e.target.id||s(e.target).closest("#dashboard-nav-wrapper").length||t.removeClass("dashboard-nav-opened")}),e(),s(window).on("resize",function(){e()})})}(jQuery);